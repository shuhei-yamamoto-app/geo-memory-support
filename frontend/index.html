<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Geo Memory Support</title>

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css" />

  <!-- Google Maps JS (backend proxy 経由) -->
  <script src="https://geo-memory-support-backend.onrender.com/maps-js" defer></script>
</head>

<body>

  <div class="top-bar">
    <div>Geo Memory Support</div>
    <div>
      <button onclick="showMessagePage()">メッセージ</button>
      <button onclick="showMapPage()">マップ</button>
    </div>
  </div>

  <!-- メッセージページ -->
  <div id="page-message" class="page active">

    <div class="card">
      <strong>現在地</strong>
      <p id="current-position">取得中...</p>
    </div>

    <div class="card">
      <textarea id="message" placeholder="例：来週の火曜日に新宿センタービルで会議があります。"></textarea>
      <button id="extractBtn">Geminiで抽出</button>
      <span id="status"></span>
    </div>

    <div id="resultCard" class="card" style="display:none;">
      <strong>場所</strong>
      <div id="placesArea"></div>

      <strong>時間</strong>
      <div id="timesArea"></div>

      <strong>行動</strong>
      <div id="actionsArea"></div>

      <button id="registerDestBtn">チェックした場所を目的地に登録</button>
    </div>

    <div class="card">
      <strong>移動手段</strong>
      <select id="travelMode">
        <option value="WALKING">徒歩</option>
        <option value="DRIVING">車</option>
        <option value="BICYCLING">自転車</option>
        <option value="TRANSIT">電車</option>
      </select>
    </div>

    <div class="card">
      <strong>目的地リスト</strong>
      <ul id="destList"></ul>
    </div>

  </div>

  <!-- マップページ -->
  <div id="page-map" class="page">
    <div id="map"></div>
  </div>

  <!-- JS -->
  <script src="js/main.js"></script>
  <script src="js/extractor.js"></script>
  <script src="js/map.js"></script>

</body>
</html>
